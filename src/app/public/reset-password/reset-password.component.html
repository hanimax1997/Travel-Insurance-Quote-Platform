<div class="flex items-center justify-center h-full">
    <div class="sm:px-6 lg:px-8 flex flex-col items-center">
        <div class="flex flex-col mb-6">
            <a href="#"><img class="w-16" src="/AXA_LOGO.png" alt="Logo" srcset=""> </a>
        </div>
        <div class="flex-col p-4 md:p-5 bg-white shadow-lg">
            <h1 class="text-xl font-semibold text-center text-primary-400 py-4 px-8">
                Changement du mot de passe
            </h1>
            <div class="gap-x-6 py-4">
                <p class="text-m font-medium text-center text-primary-400"> Entrez votre nouveau mot de passe. </p>
                @if (formPass) {
                    <form [formGroup]="formPass" (ngSubmit)="submit()">
                        <div class="flex py-6 justify-around grid grid-cols-1 gap-4">
                            <div>
                                <label for="newPass" class="block text-xs font-semibold mb-2">Nouveau mot de passe</label>
                                <div class="relative">
                                <input id="newPass" formControlName="newPass" [type]="hide ? 'password':'text'" class="shadow-[inset_0_1px 2px rgba(0, 0, 0, 0.075)] peer py-3 px-4 pe-11 block w-full border border-gray-300 focus:border-primary-400 focus:ring-primary-400 text-sm disabled:opacity-50 disabled:pointer-events-none" placeholder="Nouveau mot de passe">
                                <div (click)="hide= !hide" class="absolute inset-y-0 end-0 flex items-center pe-4 peer-disabled:opacity-50 peer-disabled:pointer-events-none">
                                    @if(hide) {
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye"><path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"/><circle cx="12" cy="12" r="3"/></svg>
                                    } @else {
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye-off"><path d="M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"/><path d="M14.084 14.158a3 3 0 0 1-4.242-4.242"/><path d="M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"/><path d="m2 2 20 20"/></svg>
                                    }
                                </div>
                                </div>
                                @if (formPass.controls.newPass.errors != null && formPass.controls.newPass.dirty) {
                                    @if(formPass.controls.newPass.errors.required) {
                                        <p class="text-sm text-danger mt-2">Ce champs est obligatoire.</p>
                                    }
                                }
                            </div>
                            <div>
                                <label for="confirmNewPass" class="block text-xs font-semibold mb-2">Confirmation du mot de passe</label>
                                <div class="relative">
                                <input id="confirmNewPass" formControlName="confirmNewPass" [type]="hide1 ? 'password':'text'" class="shadow-[inset_0_1px 2px rgba(0, 0, 0, 0.075)] peer py-3 px-4 pe-11 block w-full border border-gray-300 focus:border-primary-400 focus:ring-primary-400 text-sm disabled:opacity-50 disabled:pointer-events-none" placeholder="Confirmation de mot de passe">
                                <div (click)="hide1= !hide1" class="absolute inset-y-0 end-0 flex items-center pe-4 peer-disabled:opacity-50 peer-disabled:pointer-events-none">
                                    @if(hide1) {
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye"><path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"/><circle cx="12" cy="12" r="3"/></svg>
                                    } @else {
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye-off"><path d="M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"/><path d="M14.084 14.158a3 3 0 0 1-4.242-4.242"/><path d="M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"/><path d="m2 2 20 20"/></svg>
                                    }
                                </div>
                                </div>
                                @if (formPass.controls.newPass.errors != null && formPass.controls.newPass.dirty) {
                                    @if(formPass.controls.newPass.errors.required) {
                                    }
                                    @else {
                                        Votre mot de passe doit contenir :
                                        <ul class="space-y-3 text-sm">
                                            <li class="flex gap-x-3">
                                                
                                                <span class="text-gray-800">
                                                    Au moins 14 caractères
                                                </span>
                                            </li>
                                            <li class="flex gap-x-3">
                                                
                                                <span class="text-gray-800">
                                                    Au moins 3 des éléments suivants :
                                                    <ul class="space-y-3 text-sm">
                                                        <li class="flex gap-x-3">
                                                            
                                                            <span class="text-gray-800">
                                                                Lettres minuscules (a-z)
                                                            </span>
                                                        </li>
                                                        <li class="flex gap-x-3">
                                                            
                                                            <span class="text-gray-800">
                                                                Lettre majuscules (A-Z)
                                                            </span>
                                                        </li>
                                                        <li class="flex gap-x-3">
                                                            
                                                            <span class="text-gray-800">
                                                                Chiffres (0-9)
                                                            </span>
                                                        </li>
                                                        <li class="flex gap-x-3">
                                                            
                                                            <span class="text-gray-800">
                                                                Caractères spéciaux &#40;&#33;&commat;&ugrave;&pound; …&#41;
                                                            </span>
                                                        </li>
                                                    </ul>
                                                </span>
                                            </li>
                                        </ul>
                                    }
                                }
                            </div>
                        </div>
                        <div class="mt-5 flex flex-col gap-x-2">
                            <button [disabled]="formPass.get('newPass')?.value != formPass.get('confirmNewPass')?.value || (formPass.controls.newPass.errors != null && formPass.controls.newPass.dirty)" type="submit" class="py-2 px-3 gap-x-1 text-l size-full font-semibold border border-transparent bg-primary-400 text-white hover:bg-primary-100 focus:outline-none focus:bg-primary-100 disabled:bg-gray-400 disabled:opacity-50 disabled:pointer-events-none">
                                Confirmer
                            </button>
                            <div class="flex justify-between">
                                <a class="flex text-sm font-semibold justify-start text-primary-400 pt-6" href="/login"> Retour</a>
                            </div>
                        </div>
                    </form>
                }
            </div>
        </div>
    </div>
</div>
